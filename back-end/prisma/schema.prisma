// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  username        String        @unique
  email           String        @unique
  fullName        String
  avatarName      String
  avatarupdated   Boolean
  avatarNamePath  String?
  isOnLine        Boolean
  accessToken     String
  refreshToken    String
  twoFactor       Boolean?
  qrCodeFileName  String?
  towFactorSecret String?
  historyGameId   String?       @unique
  // Players         Players[]
  // HistoryGame     HistoryGame[]
}

model HistoryGame {
  id            String   @id @default(cuid())
  createdAt     DateTime @default(now())
  winnerId      String
  startTimeGame DateTime
  endTimeGame   DateTime
  scoreUser1    Int
  scoreUser2    Int

  // players User[] @relation("Players", references: [id])
}

// model Players {
//   historyGameId String
//   userId        String

//   historyGame HistoryGame @relation(fields: [historyGameId], references: [id])
//   user        User        @relation(fields: [userId], references: [id])

//   @@id([historyGameId, userId])
// }
